<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/frontend/es6/01 스크립트호출 호이스팅 스코프/css/style.css">
    <script defer src="/frontend/es6/01 스크립트호출 호이스팅 스코프/js/script.js"></script>
    <title>Document</title>
  </head>
  <body>
    <pre style="font-size: medium;">
[[ defer ]] 라는 속성을 html에 추가했기 때문에 병렬처리 가능

  document.addEventListener('DOMContentLoaded', function () {
    document.querySelector('.ex1 button').addEventListener('click', function () {
      alert();
    });
  });
    
여기서 addEventListener를 생략할 수 있다.
다만 스크립트 여러개를 가져올때는 [[ defer ]]는 지양해야한다.
script 언어라서 변수가 꼬인다.
따라서, module 방식에서 사용할것이다.
    </pre>
    <ul>
      <li>var scope는 호이스팅 O, 중복선언 O, 함수형스코프</li>
      <li>let 호이스팅 X, 중복선언 X, 블록스코프</li>
      <li>const 호이스팅 X, 중복선언 X, 값변경 X, 블록스코프</li>
      <li>스코프의 종류에 따라 클로저가 다르게 적용됨</li>
    </ul>
    <br>
    <hr>
    <br>
    <div class="flexdiv">
      <xmp>
        //html

        <div class="ex1">
          var
          <button>버튼</button>
        </div>
      </xmp>
      <pre>

        //javascript

        document.querySelector('.ex1 button').addEventListener('click', function () {
          alert(a);
          var a = 1;
          var a = 2;
        });
      </pre>
    </div>
    
    <br>
    <div class="ex1">
      var
      <button>버튼</button>
    </div>
    <!-- 버튼 -->

    <br>

    <hr />
    <div class="flexdiv">
      <xmp>
        //html
  
        <div class="ex2">
          let
          <button>버튼</button>
        </div>
        <!-- 버튼 -->
      </xmp>
      <pre>

        //javascript

        document.querySelector('.ex2 button').addEventListener('click', () => {
          let a = 1;
          a = 2;
          alert(a);
        });
      </pre>
    </div>
    <div class="ex2">
      let
      <button>버튼</button>
    </div>
    <!-- 버튼 -->
    <br>
    <hr />

    <br>

    <div class="flexdiv">
      <xmp>
        //html

        <div class="ex3">
          const
          <button>버튼</button>
        </div>
        <!-- 버튼 -->
      </xmp>
      <pre>

        //javascript

        document.querySelector('.ex3 button').addEventListener('click', () => {
        const a = 1;
        a = 2;
        alert(a);
        });
      </pre>
    </div>
    <div class="ex3">
      const
      <button>버튼</button>
    </div>
    <!-- 버튼 -->

    <br>

    <hr />
    <div class="flexdiv">
      <xmp>
        //html

        <div class="ex4">
          함수형 스코프 var
          <button>버튼</button>
        </div>
        <!-- 버튼 -->
      </xmp>
      <pre>

        //javascript

        document.querySelector('.ex4 button').addEventListener('click', () => {
        var a = 1;
        if (a === 1) {
        var a = 2;
        // alert(a);
        }
        alert(a); //<=== 밖으로 빼도 2로 된다. // var 는 함수형 스코프===함수내에서는 다 같은 변수 });
      </pre>
    </div>
    <div class="ex4">
      함수형 스코프 var
      <button>버튼</button>
    </div>
    <!-- 버튼 -->

    <br>

    <hr />

    <br>

    <div class="flexdiv">
      <xmp>
        //html
        <div class="ex5">
          블록 스코프 let
          <button>버튼</button>
        </div>
        <!-- 버튼 -->
      </xmp>
      <pre>

        //javascript

        document.querySelector('.ex5 button').addEventListener('click', () => {
        let a = 1;
        if (a === 1) {
        let a = 2;
        alert(a); //<=== 안에서는 2가 alert 된다. } alert(a); //<===밖으로 빼면 1이 alert 된다. // let 은 블록 스코프(중괄호 스코프)===함수밖에서는 다른 변수 });
      </pre>
    </div>
    <div class="ex5">
      블록 스코프 let
      <button>버튼</button>
    </div>
    <!-- 버튼 -->

    <br>

    <hr />
  </body>
</html>
